<h1>Editar Pessoa</h1>
<div class="well">
    <form #formPessoa="ngForm">
        <div class="mb-3">
            <label for="nome">Nome:</label>
            <input type="text" #nome="ngModel" class="form-control" id="nome" name="nome" minlength="2"
                [(ngModel)]="pessoa.nome" required>
            <div *ngIf="nome.errors && (nome.dirty || nome.touched)" class="alert alert-danger">
                <div [hidden]="!nome.errors.required">Digite o nome da pessoa.</div>
                <div [hidden]="!nome.errors.minlength">>O nome deve conter ao menos 2 caracteres.</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="idade">Idade:</label>
            <input type="text" #idade="ngModel" class="form-control" id="idade" name="idade" [(ngModel)]="pessoa.idade"
                numerico minimoValidator [valorMinimo]="18" required />
            <div *ngIf="idade.errors && (idade.dirty || idade.touched)" class="alert alert-danger">
                <div [hidden]="!idade.errors.required">Digite a idade da pessoa.</div>
                <div [hidden]="!idade.errors.minimo">Idade deve ser maior ou igual a {{ idade.errors.requiredValue }}.</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="dataNascimento">Data de Nascimento:</label>
            <input type="text" #dataNascimento="ngModel" class="form-control" id="data-nascimento" name="dataNascimento"
                [(ngModel)]="pessoa.dataNascimento" mask="d0/M0/0000" required />
            <div *ngIf="
                dataNascimento.errors &&
                (dataNascimento.dirty || dataNascimento.touched)
                " class="alert alert-danger">
                <div [hidden]="!dataNascimento.errors.required">
                    Digite a data de nascimento da pessoa.
                </div>
            </div>
        </div>
        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="fumante" name="fumante" [(ngModel)]="pessoa.fumante"
                #fumante="ngModel">
            <label class="form-check-label" for="fumante">
                Fumante?
            </label>
        </div>
        <button type="button" class="btn btn-primary me-2" (click)="atualizar()" [disabled]="!formPessoa.form.valid">
            <i class="fa fa-save" aria-hidden="true"></i> Atualizar
        </button>
        <a class="btn btn-secondary" [routerLink]="['/pessoas']">
            <i class="fa fa-arrow-left" aria-hidden="true"></i> Voltar
        </a>
    </form>
</div>